<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>å†…è”æç¤ºæ¡†ç»„ä»¶ - ç‹¬ç«‹ç¤ºä¾‹</title>
  <style>
    /* åŸºç¡€æ ·å¼ */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .container {
      background: white;
      border-radius: 16px;
      -electron-corner-smoothing: 60%;
      padding: 40px;
      max-width: 600px;
      width: 100%;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    }

    h1 {
      color: #333;
      margin-bottom: 10px;
      font-size: 28px;
    }

    .subtitle {
      color: #666;
      margin-bottom: 30px;
      font-size: 14px;
    }

    .button-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 12px;
      margin-bottom: 20px;
    }

    .demo-button {
      padding: 12px 20px;
      border: none;
      border-radius: 8px;
      -electron-corner-smoothing: 60%;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s;
      color: white;
    }

    .demo-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    }

    .demo-button:active {
      transform: translateY(0);
    }

    .btn-success { background: #4CAF50; }
    .btn-warning { background: #FF9800; }
    .btn-error { background: #F44336; }
    .btn-info { background: #2196F3; }
    .btn-custom { background: #9C27B0; }

    .section-title {
      color: #333;
      font-size: 16px;
      margin: 25px 0 15px;
      font-weight: 600;
    }

    /* æç¤ºæ¡†æ ·å¼ï¼ˆå†…è”ï¼‰ */
    #toast-container {
      position: fixed;
      display: block;
      width: 100%;
      height: 100%;
      top: 0;
      z-index: 9999;
      pointer-events: none;
    }

    .inline-toast {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px 16px;
      margin: 8px;
      border-radius: 8px;
      -electron-corner-smoothing: 60%;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      font-size: 14px;
      line-height: 1.5;
      max-width: 400px;
      min-width: 200px;
      pointer-events: auto;
      position: absolute;
      overflow: hidden;
      backdrop-filter: blur(10px);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .toast-icon {
      flex-shrink: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      width: 24px;
      height: 24px;
    }

    .toast-icon svg {
      width: 100%;
      height: 100%;
    }

    .toast-message {
      flex: 1;
      word-wrap: break-word;
    }

    .toast-close {
      flex-shrink: 0;
      width: 20px;
      height: 20px;
      border: none;
      background: transparent;
      cursor: pointer;
      padding: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0.6;
      transition: opacity 0.2s;
    }

    .toast-close:hover {
      opacity: 1;
    }

    .toast-close svg {
      width: 16px;
      height: 16px;
    }

    .toast-success { background-color: rgba(76, 175, 80, 0.95); color: white; }
    .toast-warning { background-color: rgba(255, 152, 0, 0.95); color: white; }
    .toast-error { background-color: rgba(244, 67, 54, 0.95); color: white; }
    .toast-info { background-color: rgba(33, 150, 243, 0.95); color: white; }

    .toast-position-top-right { top: 20px; right: 20px; }
    .toast-position-top-center { top: 20px; left: 50%; transform: translateX(-50%); }
    .toast-position-top-left { top: 20px; left: 20px; }
    .toast-position-bottom-right { bottom: 20px; right: 20px; }
    .toast-position-bottom-center { bottom: 20px; left: 50%; transform: translateX(-50%); }
    .toast-position-bottom-left { bottom: 20px; left: 20px; }

    @keyframes slideInTop {
      from { opacity: 0; transform: translateY(-100%) translateX(-50%); }
      to { opacity: 1; transform: translateY(0) translateX(-50%); }
    }

    @keyframes slideInTopNoCenter {
      from { opacity: 0; transform: translateY(-100%); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes slideInBottom {
      from { opacity: 0; transform: translateY(100%) translateX(-50%); }
      to { opacity: 1; transform: translateY(0) translateX(-50%); }
    }

    @keyframes slideInBottomNoCenter {
      from { opacity: 0; transform: translateY(100%); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes slideInLeft {
      from { opacity: 0; transform: translateX(-100%); }
      to { opacity: 1; transform: translateX(0); }
    }

    @keyframes slideInRight {
      from { opacity: 0; transform: translateX(100%); }
      to { opacity: 1; transform: translateX(0); }
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.9); }
      to { opacity: 1; transform: scale(1); }
    }

    @keyframes fadeInCenter {
      from { opacity: 0; transform: scale(0.9) translateX(-50%); }
      to { opacity: 1; transform: scale(1) translateX(-50%); }
    }

    @keyframes fadeOut {
      from { opacity: 1; transform: scale(1); }
      to { opacity: 0; transform: scale(0.9); }
    }

    @keyframes fadeOutCenter {
      from { opacity: 1; transform: scale(1) translateX(-50%); }
      to { opacity: 0; transform: scale(0.9) translateX(-50%); }
    }

    .toast-animation-slideInTop { animation: slideInTop 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
    .toast-animation-slideInTopNoCenter { animation: slideInTopNoCenter 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
    .toast-animation-slideInBottom { animation: slideInBottom 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
    .toast-animation-slideInBottomNoCenter { animation: slideInBottomNoCenter 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
    .toast-animation-slideInLeft { animation: slideInLeft 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
    .toast-animation-slideInRight { animation: slideInRight 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
    .toast-animation-fadeIn { animation: fadeIn 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
    .toast-animation-fadeInCenter { animation: fadeInCenter 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
    .toast-animation-fadeOut { animation: fadeOut 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
    .toast-animation-fadeOutCenter { animation: fadeOutCenter 0.3s cubic-bezier(0.4, 0, 0.2, 1); }

    .toast-progress {
      position: absolute;
      bottom: 0;
      left: 0;
      height: 3px;
      background-color: rgba(255, 255, 255, 0.5);
      transition: width linear;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ‰ å†…è”æç¤ºæ¡†ç»„ä»¶</h1>
    <p class="subtitle">åŠŸèƒ½å®Œæ•´ã€æ˜“äºä½¿ç”¨çš„é€šç”¨æç¤ºæ¡†ç³»ç»Ÿ</p>

    <div class="section-title">åŸºç¡€ç±»å‹</div>
    <div class="button-grid">
      <button class="demo-button btn-success" onclick="toast.success('æ“ä½œæˆåŠŸï¼', {showProgress: true})">
        æˆåŠŸæç¤º
      </button>
      <button class="demo-button btn-warning" onclick="toast.warning('è¯·æ³¨æ„æ£€æŸ¥', {showProgress: true})">
        è­¦å‘Šæç¤º
      </button>
      <button class="demo-button btn-error" onclick="toast.error('æ“ä½œå¤±è´¥', {showProgress: true})">
        é”™è¯¯æç¤º
      </button>
      <button class="demo-button btn-info" onclick="toast.info('æç¤ºä¿¡æ¯', {showProgress: true})">
        ä¿¡æ¯æç¤º
      </button>
    </div>

    <div class="section-title">ä½ç½®ç¤ºä¾‹</div>
    <div class="button-grid">
      <button class="demo-button btn-info" onclick="showTopLeft()">
        å·¦ä¸Šè§’
      </button>
      <button class="demo-button btn-info" onclick="showTopCenter()">
        é¡¶éƒ¨å±…ä¸­
      </button>
      <button class="demo-button btn-info" onclick="showBottomRight()">
        å³ä¸‹è§’
      </button>
      <button class="demo-button btn-info" onclick="showBottomCenter()">
        åº•éƒ¨å±…ä¸­
      </button>
    </div>

    <div class="section-title">è‡ªå®šä¹‰ç¤ºä¾‹</div>
    <div class="button-grid">
      <button class="demo-button btn-custom" onclick="showCustomIcon()">
        è‡ªå®šä¹‰å›¾æ ‡
      </button>
      <button class="demo-button btn-custom" onclick="showCustomColor()">
        è‡ªå®šä¹‰é¢œè‰²
      </button>
      <button class="demo-button btn-custom" onclick="showLongText()">
        é•¿æ–‡æœ¬
      </button>
      <button class="demo-button btn-custom" onclick="showMultiple()">
        å¤šä¸ªæç¤º
      </button>
    </div>

    <div class="section-title">å †å æµ‹è¯•</div>
    <div class="button-grid">
      <button class="demo-button btn-success" onclick="showStackTest()">
        å †å æµ‹è¯•
      </button>
      <button class="demo-button btn-warning" onclick="showMixedPositions()">
        æ··åˆä½ç½®
      </button>
      <button class="demo-button btn-error" onclick="toast.closeAll()">
        å…³é—­æ‰€æœ‰
      </button>
    </div>
  </div>

  <div id="toast-container"></div>

  <script>
    // å†…è”æç¤ºæ¡†ç»„ä»¶ï¼ˆç²¾ç®€ç‰ˆï¼‰
    class InlineToast {
      constructor() {
        this.container = null;
        this.toasts = [];
        this.init();
      }

      init() {
        this.container = document.getElementById('toast-container');
        if (!this.container) {
          this.container = document.createElement('div');
          this.container.id = 'toast-container';
          document.body.appendChild(this.container);
        }
      }

      show(options) {
        const config = {
          type: 'info',
          message: '',
          duration: 3000,
          position: 'top-right',
          showClose: true,
          showProgress: false,
          animation: 'slideIn',
          ...options
        };

        const toast = this.createToast(config);
        this.toasts.push(toast);
        this.container.appendChild(toast.element);

        this.applyAnimation(toast.element, config);
        this.applyStackOffset(toast);

        if (config.duration > 0) {
          if (config.showProgress) {
            this.showProgress(toast.element, config.duration);
          }
          toast.timer = setTimeout(() => this.close(toast), config.duration);
        }

        return toast;
      }

      applyAnimation(element, config) {
        const position = config.position;
        const isCenter = position.includes('center');
        let animationClass = isCenter ? 'toast-animation-fadeInCenter' : 'toast-animation-fadeIn';

        if (config.animation === 'slideIn') {
          if (position.includes('top')) {
            animationClass = isCenter ? 'toast-animation-slideInTop' : 'toast-animation-slideInTopNoCenter';
          } else if (position.includes('bottom')) {
            animationClass = isCenter ? 'toast-animation-slideInBottom' : 'toast-animation-slideInBottomNoCenter';
          } else if (position.includes('left')) {
            animationClass = 'toast-animation-slideInLeft';
          } else if (position.includes('right')) {
            animationClass = 'toast-animation-slideInRight';
          }
        }

        element.classList.add(animationClass);
        element.classList.add(`toast-position-${position}`);
      }

      applyStackOffset(toast) {
        const position = toast.config.position;
        const samePositionToasts = this.toasts.filter(t =>
          t.config.position === position && t !== toast
        );

        if (samePositionToasts.length > 0) {
          let offset = 0;
          samePositionToasts.forEach(t => {
            offset += t.element.offsetHeight + 8;
          });

          if (position.includes('top')) {
            toast.element.style.top = `${20 + offset}px`;
          } else if (position.includes('bottom')) {
            toast.element.style.bottom = `${20 + offset}px`;
          }

          // ä¿æŒå±…ä¸­ä½ç½®çš„ transform
          if (position.includes('center')) {
            toast.element.style.transform = 'translateX(-50%)';
          }
        }
      }

      createToast(config) {
        const element = document.createElement('div');
        element.className = `inline-toast toast-${config.type}`;

        const icon = document.createElement('div');
        icon.className = 'toast-icon';
        icon.innerHTML = this.getIcon(config.type);
        element.appendChild(icon);

        const message = document.createElement('div');
        message.className = 'toast-message';
        message.textContent = config.message;
        element.appendChild(message);

        if (config.showClose) {
          const closeBtn = document.createElement('button');
          closeBtn.className = 'toast-close';
          closeBtn.innerHTML = '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>';
          element.appendChild(closeBtn);

          const toast = { element, config, timer: null };
          closeBtn.addEventListener('click', () => this.close(toast));
          return toast;
        }

        return { element, config, timer: null };
      }

      getIcon(type) {
        const icons = {
          success: '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>',
          warning: '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/></svg>',
          error: '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/></svg>',
          info: '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/></svg>'
        };
        return icons[type] || icons.info;
      }

      showProgress(element, duration) {
        const progress = document.createElement('div');
        progress.className = 'toast-progress';
        progress.style.width = '100%';
        element.appendChild(progress);
        setTimeout(() => {
          progress.style.width = '0%';
          progress.style.transition = `width ${duration}ms linear`;
        }, 10);
      }

      close(toast) {
        if (toast.timer) clearTimeout(toast.timer);
        const isCenter = toast.config.position.includes('center');
        toast.element.classList.add(isCenter ? 'toast-animation-fadeOutCenter' : 'toast-animation-fadeOut');
        setTimeout(() => {
          if (toast.element.parentNode) {
            toast.element.parentNode.removeChild(toast.element);
          }
          const index = this.toasts.indexOf(toast);
          if (index > -1) this.toasts.splice(index, 1);
          
          this.repositionToasts(toast.config.position);
        }, 300);
      }

      repositionToasts(position) {
        const samePositionToasts = this.toasts.filter(t => t.config.position === position);
        
        samePositionToasts.forEach((toast, index) => {
          let offset = 0;
          for (let i = 0; i < index; i++) {
            offset += samePositionToasts[i].element.offsetHeight + 8;
          }

          if (position.includes('top')) {
            toast.element.style.top = `${20 + offset}px`;
          } else if (position.includes('bottom')) {
            toast.element.style.bottom = `${20 + offset}px`;
          }

          // ä¿æŒå±…ä¸­ä½ç½®çš„ transform
          if (position.includes('center')) {
            toast.element.style.transform = 'translateX(-50%)';
          }
        });
      }

      closeAll() {
        this.toasts.forEach(toast => this.close(toast));
      }

      success(message, options = {}) {
        return this.show({ ...options, type: 'success', message });
      }

      warning(message, options = {}) {
        return this.show({ ...options, type: 'warning', message });
      }

      error(message, options = {}) {
        return this.show({ ...options, type: 'error', message });
      }

      info(message, options = {}) {
        return this.show({ ...options, type: 'info', message });
      }
    }

    // åˆ›å»ºå…¨å±€å®ä¾‹
    window.toast = new InlineToast();

    // ä½ç½®ç¤ºä¾‹å‡½æ•°
    function showTopLeft() {
      toast.info('å·¦ä¸Šè§’æç¤º', {
        position: 'top-left',
        duration: 3000,
        showProgress: true
      });
    }

    function showTopCenter() {
      toast.success('é¡¶éƒ¨å±…ä¸­æç¤º', {
        position: 'top-center',
        duration: 3000,
        showProgress: true
      });
    }

    function showBottomRight() {
      toast.warning('å³ä¸‹è§’æç¤º', {
        position: 'bottom-right',
        duration: 3000,
        showProgress: true
      });
    }

    function showBottomCenter() {
      toast.error('åº•éƒ¨å±…ä¸­æç¤º', {
        position: 'bottom-center',
        duration: 3000,
        showProgress: true
      });
    }

    // è‡ªå®šä¹‰ç¤ºä¾‹å‡½æ•°
    function showCustomIcon() {
      toast.show({
        type: 'info',
        message: 'ğŸš€ è‡ªå®šä¹‰å›¾æ ‡ç¤ºä¾‹',
        duration: 3000,
        showProgress: true
      });
    }

    function showCustomColor() {
      const element = toast.show({
        type: 'info',
        message: 'è‡ªå®šä¹‰é¢œè‰²æç¤ºæ¡†',
        duration: 3000,
        showProgress: true
      }).element;
      element.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
    }

    function showLongText() {
      toast.info('è¿™æ˜¯ä¸€æ¡å¾ˆé•¿çš„æç¤ºæ¶ˆæ¯ï¼Œç”¨äºæ¼”ç¤ºæç¤ºæ¡†å¦‚ä½•å¤„ç†é•¿æ–‡æœ¬å†…å®¹ã€‚æç¤ºæ¡†ä¼šè‡ªåŠ¨æ¢è¡Œå¹¶è°ƒæ•´é«˜åº¦ã€‚', {
        duration: 5000,
        showProgress: true
      });
    }

    function showMultiple() {
      toast.success('ç¬¬ä¸€æ¡æ¶ˆæ¯', { showProgress: true });
      setTimeout(() => toast.warning('ç¬¬äºŒæ¡æ¶ˆæ¯', { showProgress: true }), 500);
      setTimeout(() => toast.error('ç¬¬ä¸‰æ¡æ¶ˆæ¯', { showProgress: true }), 1000);
      setTimeout(() => toast.info('ç¬¬å››æ¡æ¶ˆæ¯', { showProgress: true }), 1500);
    }

    // å †å æµ‹è¯•å‡½æ•°
    function showStackTest() {
      for (let i = 1; i <= 5; i++) {
        setTimeout(() => {
          toast.info(`å †å æ¶ˆæ¯ ${i}`, {
            position: 'top-right',
            duration: 5000,
            showProgress: true
          });
        }, i * 200);
      }
    }

    function showMixedPositions() {
      const positions = ['top-left', 'top-center', 'top-right', 'bottom-left', 'bottom-center', 'bottom-right'];
      const types = ['success', 'warning', 'error', 'info'];
      
      positions.forEach((position, index) => {
        setTimeout(() => {
          const type = types[index % types.length];
          toast.show({
            type: type,
            message: `${position} ä½ç½®`,
            position: position,
            duration: 4000,
            showProgress: true
          });
        }, index * 300);
      });
    }

    // æ¬¢è¿æ¶ˆæ¯
    setTimeout(() => {
      toast.success('æ¬¢è¿ä½¿ç”¨å†…è”æç¤ºæ¡†ç»„ä»¶ï¼', {
        duration: 3000,
        showProgress: true,
        position: 'top-center'
      });
    }, 500);
  </script>
</body>
</html>